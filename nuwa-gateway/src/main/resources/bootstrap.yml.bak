server:
  port: 80

spring:
  application:
    name: nuwa-service-gateway
  resources:
    add-mappings: true
  cloud:
    nacos:
      discovery:
        server-addr: 127.0.0.1:8848
      config:
        server-addr: 127.0.0.1:8848
        file-extension: yaml
        prefix: nuwa-service-system
        group: DEFAULT_GROUP
        enabled: true
    gateway:
      discovery:
        locator:
          # enabled：默认为false，设置为true表明spring cloud gateway开启服务发现和路由的功能，网关自动根据注册中心的服务名为每个服务创建一个router，将以服务名开头的请求路径转发到对应的服务
          enabled: true
          # lowerCaseServiceId：启动 locator.enabled=true 自动路由时，路由的路径默认会使用大写ID，若想要使用小写ID，可将lowerCaseServiceId设置为true
          lower-case-service-id: true
      routes:
        - id: nuwa-oauth
          uri: lb://nuwa-oauth
          predicates:
            - Path=/nuwa-oauth/**
          filters:
            - SwaggerHeaderFilter
            - StripPrefix=1
        - id: nuwa-service-system
          uri: lb://nuwa-service-system
          predicates:
            - Path=/nuwa-system/**
          filters:
            - SwaggerHeaderFilter
            - StripPrefix=1
      x-forwarded:
        enabled: false